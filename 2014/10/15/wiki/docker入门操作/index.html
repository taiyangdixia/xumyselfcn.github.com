
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>docker 入门操作 | MingYang&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="MingYang">
    
    <meta name="description" content="Docker is a platform for developers and sysadmins to develop, ship, and run applications. Docker lets you quickly assemble applications from component">
    
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="xmysilas" />
    <meta name="twitter:title" content="docker 入门操作 | MingYang&#39;s blog" />
      
    
    
    <link rel="alternate" href="atom.xml" title="MingYang&#39;s blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/doge.png">
    <link rel="apple-touch-icon-precomposed" href="/img/doge.png">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/doge.png" alt="MingYang&#39;s blog" title="MingYang&#39;s blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="MingYang&#39;s blog">MingYang&#39;s blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/reading">Reading</a></li>
					
						<li><a href="/pocket">Pocket</a></li>
					
						<li><a href="http://cv.xumingyang.cn/">CV</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:blog.xumingyang.cn">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/10/15/wiki/docker入门操作/" title="docker 入门操作" itemprop="url">docker 入门操作</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://blog.xumingyang.cn" title="MingYang">MingYang</a>
    </p>
  <p class="article-time">
    <time datetime="2014-10-16T00:38:00.000Z" itemprop="datePublished">10月 15 2014</time>
    更新日期:<time datetime="2014-10-15T12:20:26.000Z" itemprop="dateModified">10月 15 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Docker输出hello_world"><span class="toc-number">1.</span> <span class="toc-text">使用Docker输出hello world</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个可交互的容器"><span class="toc-number">2.</span> <span class="toc-text">创建一个可交互的容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个在后台运行的容器"><span class="toc-number">3.</span> <span class="toc-text">创建一个在后台运行的容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本篇命令总结"><span class="toc-number">4.</span> <span class="toc-text">本篇命令总结</span></a></li></ol>
		</div>
		
		<blockquote>
<p><a href="https://www.docker.com/" target="_blank" rel="external">Docker</a> is a platform for developers and sysadmins to <strong>develop, ship, and run applications</strong>. Docker lets you quickly assemble applications from components and eliminates the friction that can come when shipping code. Docker lets you get your code tested and deployed into production as fast as possible.</p>
</blockquote>
<p>检查docker是否安装成功：</p>
<pre><code>root@<span class="operator"><span class="keyword">do</span>:~# docker <span class="keyword">version</span>
//如下显示则表明docker安装成功。

Client <span class="keyword">version</span>: <span class="number">1.0</span><span class="number">.1</span>
Client API <span class="keyword">version</span>: <span class="number">1.12</span>
<span class="keyword">Go</span> <span class="keyword">version</span> (client): go1<span class="number">.2</span><span class="number">.1</span>
Git <span class="keyword">commit</span> (client): <span class="number">990021</span>a
<span class="keyword">Server</span> <span class="keyword">version</span>: <span class="number">1.0</span><span class="number">.1</span>
<span class="keyword">Server</span> API <span class="keyword">version</span>: <span class="number">1.12</span>
<span class="keyword">Go</span> <span class="keyword">version</span> (<span class="keyword">server</span>): go1<span class="number">.2</span><span class="number">.1</span>
Git <span class="keyword">commit</span> (<span class="keyword">server</span>): <span class="number">990021</span>a</span>
</code></pre><h3 id="使用Docker输出hello_world">使用Docker输出hello world</h3>
<pre><code>docker run ubuntu:<span class="number">14.04</span> /bin/<span class="built_in">echo</span> <span class="string">'Hello world'</span>
</code></pre><p><code>docker run</code>：运行容器</p>
<p><code>ubuntu:14.04</code>：指定image。</p>
<blockquote>
<p>This is the source of the container we ran. Docker calls this an image. </p>
</blockquote>
<p>这里我们运行的是ubuntu 14.04 操作系统 image。</p>
<p><code>/bin/echo &#39;Hello world&#39;</code>：当我们的容器启动之后，Docker创建了一个新的Ubuntu14.04环境，然后在这个ubuntu系统中执行<code>/bin/echo &#39;Hello world&#39;</code>。</p>
<h3 id="创建一个可交互的容器">创建一个可交互的容器</h3>
<pre><code>root<span class="variable">@do</span><span class="symbol">:~</span><span class="comment"># docker run -t -i ubuntu:14.04 /bin/bash</span>
root<span class="variable">@dc270626bc6e</span><span class="symbol">:/</span><span class="comment"># </span>
</code></pre><p>这里多了两个参数<code>t</code>和<code>i</code>。</p>
<blockquote>
<p>-t：assigns a pseudo-tty or terminal inside our new container</p>
<p>-i：allows us to make an interactive connection by grabbing the standard in (STDIN) of the container</p>
</blockquote>
<p>这个时候，我们可以在新创建的ubuntu终端里面进行bash操作。</p>
<pre><code>root@<span class="keyword">do</span>:~<span class="comment"># docker run -t -i ubuntu:14.04 /bin/bash</span>
root@dc270626bc6e:/<span class="comment"># pwd</span>
/
root@dc270626bc6e:/<span class="comment"># ls</span>
bin  boot  dev    etc  home  lib    lib64  media  mnt  opt    <span class="keyword">proc</span>  root  run  sbin  srv  sys  tmp  usr  <span class="keyword">var</span>
root@dc270626bc6e:/<span class="comment"># </span>
</code></pre><p>最后输入<code>exit</code>或者按Ctrl+d来关闭这个容器。</p>
<h3 id="创建一个在后台运行的容器">创建一个在后台运行的容器</h3>
<pre><code>root<span class="variable">@do</span><span class="symbol">:~</span><span class="comment"># docker run -d ubuntu:14.04 /bin/sh -c "while true; do echo hello world; sleep 1; done"</span>
0c981b692eb2f2b3aee085cb873231e9f77ddf9516352bbf080176d8c8567df7
</code></pre><blockquote>
<p>The -d flag tells Docker to run the container and put it in the background, to daemonize it.表示在后台运行该容器。</p>
</blockquote>
<p>提交刚才的命令之后，终端会打印<br>    0c981b692eb2f2b3aee085cb873231e9f77ddf9516352bbf080176d8c8567df7</p>
<p>这个是创建的容器的ID，用于唯一标志容器。</p>
<blockquote>
<p>The container ID is a bit long and unwieldy and a bit later on we’ll see a shorter ID and some ways to name our containers to make working with them easier.</p>
</blockquote>
<p>该容器中执行<code>/bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</code>。这个时候在前台看不见任何输出。</p>
<p>执行<code>docker ps</code>查看后台运行的容器。</p>
<pre><code>root@<span class="operator"><span class="keyword">do</span>:~# docker ps
CONTAINER ID        IMAGE               COMMAND                CREATED             <span class="keyword">STATUS</span>              PORTS               <span class="keyword">NAMES</span>
<span class="number">0</span>c981b692eb2        ubuntu:<span class="number">14.04</span>        /<span class="keyword">bin</span>/sh -c <span class="string">'while tr   4 seconds ago       Up 4 seconds                            backstabbing_brown</span></span>
</code></pre><p>最后一列Names是docker自动给容器分配的名称，自己也可以对其进行修改。</p>
<p>执行<code>docker logs [name]</code>查看后台容器的输出。</p>
<pre><code>root<span class="variable">@do</span><span class="symbol">:~</span><span class="comment"># docker logs backstabbing_brown</span>
hello world
hello world
hello world
```
</code></pre><p>执行<code>docker stop [name]</code>，关闭该后台容器。</p>
<pre><code>root<span class="variable">@do</span><span class="symbol">:~</span><span class="comment"># docker stop backstabbing_brown</span>
backstabbing_brown
</code></pre><h3 id="本篇命令总结">本篇命令总结</h3>
<pre><code>docker run ubuntu:<span class="number">14.04</span> <span class="regexp">/bin/</span>echo <span class="string">'Hello world'</span>

docker run -t -i ubuntu:<span class="number">14.04</span> <span class="regexp">/bin/</span>bash (-t带终端，-i可交互)

docker run -d ubuntu:<span class="number">14.04</span> <span class="regexp">/bin/</span>sh -c <span class="string">"while true; do echo hello world; sleep 1; done"</span>
(返回 container ID，用于唯一标示container。)

docker ps
查看docker的后台进程

docker logs [NAMES]
这里的[NAMES]是使用 docker ps 查看后台进程的时候，最后一列信息。
docker logs 会返回该容器的标准输出

docker stop [NAMES]
停止正在运行的容器
</code></pre><blockquote>
<p>参考自docker文档：<a href="https://docs.docker.com/userguide/dockerizing/" target="_blank" rel="external">https://docs.docker.com/userguide/dockerizing/</a></p>
<p><a href="https://docs.docker.com/reference/commandline/cli/" target="_blank" rel="external">这里</a>有更多的关于Docker的命令介绍。</p>
</blockquote>
 
		<blockquote><p style="font-size: 20px;">版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）</p></blockquote>
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/docker/">docker</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Docker/">Docker</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://blog.xumingyang.cn/2014/10/15/wiki/docker入门操作/" data-title="docker 入门操作 | MingYang&#39;s blog" data-tsina="2133408912" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/12/08/从Oracle数据库中大量导出文本数据的实践/" title="从Oracle数据库中大量导出文本数据的实践">
  <strong>PREVIOUS:</strong><br/>
  <span>
  从Oracle数据库中大量导出文本数据的实践</span>
</a>
</div>


<div class="next">
<a href="/2014/10/15/wiki/docker的安装/"  title="docker 安装">
 <strong>NEXT:</strong><br/> 
 <span>docker 安装
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  

      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Docker输出hello_world"><span class="toc-number">1.</span> <span class="toc-text">使用Docker输出hello world</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个可交互的容器"><span class="toc-number">2.</span> <span class="toc-text">创建一个可交互的容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建一个在后台运行的容器"><span class="toc-number">3.</span> <span class="toc-text">创建一个在后台运行的容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本篇命令总结"><span class="toc-number">4.</span> <span class="toc-text">本篇命令总结</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/Docker/" title="Docker">Docker<sup>2</sup></a></li>
		
			<li><a href="/categories/Java/" title="Java">Java<sup>12</sup></a></li>
		
			<li><a href="/categories/Oracle/" title="Oracle">Oracle<sup>1</sup></a></li>
		
			<li><a href="/categories/Scala/" title="Scala">Scala<sup>3</sup></a></li>
		
			<li><a href="/categories/基础知识/" title="基础知识">基础知识<sup>2</sup></a></li>
		
			<li><a href="/categories/大数据/" title="大数据">大数据<sup>1</sup></a></li>
		
			<li><a href="/categories/干货/" title="干货">干货<sup>2</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/CAS/" title="CAS">CAS<sup>1</sup></a></li>
		
			<li><a href="/tags/Callable/" title="Callable">Callable<sup>1</sup></a></li>
		
			<li><a href="/tags/ConcurrentLinkedDeque/" title="ConcurrentLinkedDeque">ConcurrentLinkedDeque<sup>1</sup></a></li>
		
			<li><a href="/tags/Docker/" title="Docker">Docker<sup>1</sup></a></li>
		
			<li><a href="/tags/LSM/" title="LSM">LSM<sup>1</sup></a></li>
		
			<li><a href="/tags/LinkedBlockingDeque/" title="LinkedBlockingDeque">LinkedBlockingDeque<sup>1</sup></a></li>
		
			<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
		
			<li><a href="/tags/expdp/" title="expdp">expdp<sup>1</sup></a></li>
		
			<li><a href="/tags/interface/" title="interface">interface<sup>1</sup></a></li>
		
			<li><a href="/tags/java/" title="java">java<sup>8</sup></a></li>
		
			<li><a href="/tags/java-final-static/" title="java final static">java final static<sup>1</sup></a></li>
		
			<li><a href="/tags/maker/" title="maker">maker<sup>1</sup></a></li>
		
			<li><a href="/tags/oracle/" title="oracle">oracle<sup>1</sup></a></li>
		
			<li><a href="/tags/spool/" title="spool">spool<sup>1</sup></a></li>
		
			<li><a href="/tags/sqluldr2/" title="sqluldr2">sqluldr2<sup>1</sup></a></li>
		
			<li><a href="/tags/多线程/" title="多线程">多线程<sup>1</sup></a></li>
		
			<li><a href="/tags/大数据/" title="大数据">大数据<sup>1</sup></a></li>
		
			<li><a href="/tags/容器/" title="容器">容器<sup>2</sup></a></li>
		
			<li><a href="/tags/并发/" title="并发">并发<sup>1</sup></a></li>
		
			<li><a href="/tags/序列化/" title="序列化">序列化<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://blog.liuwanlin.info/" target="_blank" title="流星的博客">流星的博客</a></li>
      <li><a href="http://study.163.com/curricula/cs.htm" target="_blank" title="计算机专业体系">网易云课堂</a></li>
    </ul>
</div>


  <div class="rsspart">
	<a href="atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/2133408912" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/xmysilas" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/xumyselfcn" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://blog.xumingyang.cn" target="_blank" title="MingYang">MingYang</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"xumyselfcn"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>


<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-56283023-2', 'blog.xumingyang.cn## e.g. yangjian.me your google analytics site or set the value as auto.');  
ga('send', 'pageview');
</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?04e728ca15bc5226511b0c701ac60ce8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </body>
</html>
